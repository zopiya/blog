<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=icon type=image/png href=/favicon-96x96.png sizes=96x96><link rel=icon type=image/svg+xml href=/favicon.svg><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="向阳而生"><link rel=manifest href=/site.webmanifest><link rel=“icon” type=“image/png” href=“/favicon-96x96.png” sizes=“96x96”><link rel=“icon” type=“image/svg+xml” href=“/favicon.svg”><link rel=“快捷方式图标” href=“/favicon.ico”><link rel=“apple-touch-icon” sizes=“180x180” href=“/apple-touch-icon.png”><meta name=“apple-mobile-web-app-title” content=“向阳而生”><link rel=“manifest” href=“/site.webmanifest”><meta name=description content='介绍了自己开发的Halo博客主题"Redemption"的优化工作。通过优化静态资源、样式表、字体等方面，显著提高了博客首页的加载速度。文章提到了使用CDN、压缩图片、优化CSS/JS代码、减少字体文件大小等方法，以及一些开源工具和项目。'><title>首页加载速度优化方案 | 向阳而生
</title><link rel=canonical href=/%E9%A6%96%E9%A1%B5%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/><meta property="og:url" content="/%E9%A6%96%E9%A1%B5%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/"><meta property="og:site_name" content="向阳而生"><meta property="og:title" content="首页加载速度优化方案"><meta property="og:description" content='介绍了自己开发的Halo博客主题"Redemption"的优化工作。通过优化静态资源、样式表、字体等方面，显著提高了博客首页的加载速度。文章提到了使用CDN、压缩图片、优化CSS/JS代码、减少字体文件大小等方法，以及一些开源工具和项目。'><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-03T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-03T00:00:00+00:00"><meta property="article:tag" content="Project/Redemption"><meta property="article:tag" content="Blog/开源"><meta property="article:tag" content="Personal/Blog"><link rel=stylesheet href=/assets/combined.min.f1aee465a086a02027fd0b1fb97eaf7863c90d434ec462272e1849cc875f12cc.css media=all><script async defer data-website-id=ce53db0e-af27-4703-ba19-d4792c8cff78 src=https://umami.7wate.com/script.js></script></head><body class=auto><div class=content><header><div class=header></div></header><main class=main><div class=breadcrumbs><a href=/>首页</a><span class=breadcrumbs-separator>/</span><a href=/posts/>文辑</a><span class=breadcrumbs-separator>/</span>
<a href=/%E9%A6%96%E9%A1%B5%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/>首页加载速度优化方案</a></div><div><div class=single-intro-container><h1 class=single-title>首页加载速度优化方案</h1><p class=single-readtime><time datetime=2022-11-03T00:00:00+00:00>壬寅年十一月初三日 · </time>弹指可览</p><div class=single-content><p>自己一条龙研发的 Halo 博客主题 <a href="https://blog.7wate.com/?p=85">Redemption</a> 最近也是发布了首个正式版，在博友 <a href=https://dujun.io/>杜郎俊赏</a> 提供的 <a href=https://dujun.io/cleancss-remove-unused-css.html>CleanCSS</a> 工具下麻溜地搞定了，同时又添加了一些自己的想法。主要思路是首页做减法：删减无用代码文件、压缩静态资源体积，同时完全不影响首页的内容展示。</p><h2 class=heading id=问题场景>问题场景
<a class=anchor href=#%e9%97%ae%e9%a2%98%e5%9c%ba%e6%99%af>#</a></h2><p><figure><div><img loading=lazy alt=整体未优化前 src=https://static.7wate.com/img/2022/11/03/d6937e7965c76.png></div></figure></p><p>如上图博客首页未优化的加载速度，需要 2.03 秒并且<strong>存在可优化的余地</strong>。优化方案主要从静态资源、样式表、字体这三个方面出发。整套操作步骤下来，实测速度提升了近 5 倍。</p><h2 class=heading id=0内容分发cdn>0.内容分发（CDN）
<a class=anchor href=#0%e5%86%85%e5%ae%b9%e5%88%86%e5%8f%91cdn>#</a></h2><p>傻瓜式优化就是 CDN，各个云服务厂商都有提供。最简单最省事最有效，CDN 具体优化步骤可根据厂商提供的文档操作。（有的要钱有的不要钱，有的好用有的不好用）</p><h2 class=heading id=1静态媒体资源>1.静态媒体资源
<a class=anchor href=#1%e9%9d%99%e6%80%81%e5%aa%92%e4%bd%93%e8%b5%84%e6%ba%90>#</a></h2><p><figure><div><img loading=lazy alt=图片优化效果 src=https://static.7wate.com/img/2022/11/03/21dfc74958c26.png></div></figure></p><p>首页如果有媒体资源，例如图片、Logo 等。那么最简单的方法就是压缩图片体积，便捷高效的提升首页加载速度。</p><h2 class=heading id=2cssjs-代码>2.CSS/JS 代码
<a class=anchor href=#2cssjs-%e4%bb%a3%e7%a0%81>#</a></h2><p>如果想优化 CSS/JS 代码文件，可以尝试在博友 <a href=https://dujun.io/>杜郎俊赏</a> 提供的 <a href=https://dujun.io/cleancss-remove-unused-css.html>CleanCSS</a> 中一键优化代码。</p><p>CleanCSS 第一次直接优化了之后提升明显，但是发现 remixicon.css 字体图标有问题。然而这个优化还是最大问题，毕竟加上字体 1.3s，遂又找了其他方法实现（<strong>后来发现是我没用明白 CleanCSS 🤣</strong>）。</p><p>后来在 GitHub 上找到开源项目 <a href=https://github.com/uncss/uncss>UnCSS</a> ，其提供了简单的在线优化，使用了一下满足需求足够用了。最后再利用在线 CSS/JS 压缩体积工具，就大功告成！</p><p><figure><div><img loading=lazy alt=css优化 src=https://static.7wate.com/img/2022/11/03/66db14b415323.png></div></figure></p><h2 class=heading id=3优化字体>3.优化字体
<a class=anchor href=#3%e4%bc%98%e5%8c%96%e5%ad%97%e4%bd%93>#</a></h2><p>常见的优化就是 CDN、静态资源、CSS/JS 代码，这里我为了追求更极致的速度，将字体文件也进一步优化。<strong>优化方向稍微偏激了，根据实际情况来。</strong></p><p>因为 remixicon.css 的字体图标文件只用了几个，所以我利用 Github 上 <a href=https://github.com/aui/font-spider>font-spider</a> 将无用的字符进行删减。如下图所示可以发现，字体删减优化是质的改变，体积缩减了近 70 倍！</p><p><figure><div><img loading=lazy alt=font-spider优化 src=https://static.7wate.com/img/2022/11/03/df6df212fd9ac.png></div></figure></p><h2 class=heading id=优化后>优化后
<a class=anchor href=#%e4%bc%98%e5%8c%96%e5%90%8e>#</a></h2><p><figure><div><img loading=lazy alt=整体优化后 src=https://static.7wate.com/img/2022/11/03/2d8b01670d07d.png></div></figure></p><p>在特定问题场景下，通过一套操作优化后的首页体积仅仅 35kB，加载时间 597 毫秒。就连 CDN 都不用套，全国平均访问延时 0.6s。需要注意的地方是，优化字体比较偏激可能导致页面显示不正常。其次我为了避免其他页面出现未知错误，利用代码进行判断仅仅对首页进行了优化。</p><p>现在 H5 的 CSS 样式库越来越多了，网页效果越来越优美了，同时也变得臃肿了起来。<strong>不过只要网速快，优化个毛线！奥里给！！！</strong></p></div><div class=single-pagination><hr><div class=flexnowrap><div class=single-pagination-prev><div class=single-pagination-container-prev><div class=single-pagination-text>←</div><div class=single-pagination-text><a href=/halo-%E4%B8%BB%E9%A2%98-redemption-%E9%A6%96%E5%8F%91%E7%89%88/>Halo 主题 Redemption 首发版</a></div></div></div><div class=single-pagination-next><div class=single-pagination-container-next><div class=single-pagination-text><a href=/%E8%B0%88%E8%B0%88%E6%88%91%E7%9A%84%E6%95%B0%E5%AD%97%E6%96%87%E5%85%B7%E7%9B%92/>谈谈我的「数字文具盒」</a></div><div class=single-pagination-text>→</div></div></div></div><hr></div><div class=back-to-top><a href=#top>◈ 扶摇直上 ◈</a></div></div></main></div><footer><p>© 2025 向阳而生. All rights reserved.</p></footer></body><script src=/js/theme-switch.js></script><script defer src=/js/copy-code.js></script></html>